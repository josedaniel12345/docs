"use strict";(self.webpackChunkdocs_redes=self.webpackChunkdocs_redes||[]).push([[809],{5825:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var s=i(5893),l=i(1151);const r={},c=void 0,o={id:"Protocolos/VPN",title:"VPN",description:"DEFINICI\xd3N DE VPN",source:"@site/docs/Protocolos/VPN.md",sourceDirName:"Protocolos",slug:"/Protocolos/VPN",permalink:"/docs/Protocolos/VPN",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Protocolos/VPN.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"IPV6",permalink:"/docs/Protocolos/IPV6"}},a={},d=[{value:"DEFINICI\xd3N DE VPN",id:"definici\xf3n-de-vpn",level:2},{value:"IKE EXCHANGE PHASE",id:"ike-exchange-phase",level:3},{value:"IPSEC MENSAJES",id:"ipsec-mensajes",level:3},{value:"PROTOCOLOS",id:"protocolos",level:2},{value:"COMANDOS DE CONFIGURACI\xd3N ISAKMP",id:"comandos-de-configuraci\xf3n-isakmp",level:2}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"definici\xf3n-de-vpn",children:"DEFINICI\xd3N DE VPN"}),"\n",(0,s.jsx)(n.p,{children:"Una red privada virtual (Virtual Private Network) es una tecnolog\xeda que permite extender una red local sobre una red p\xfablica, generalmente Internet. El proceso se realiza por medio de encapsulaci\xf3n de paquetes que deben pasar por la red p\xfablica y, en caso de necesitar una privacidad en la informaci\xf3n enviada, la encriptaci\xf3n de esos paquetes de datos enviados."}),"\n",(0,s.jsx)(n.h1,{id:"tipos",children:"TIPOS"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["VPN de acceso remoto","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Es aquella que se utiliza para permitir el acceso de un ordenador cliente remoto a una red local. Se suele asignar al cliente IP mediante la VPN una direcci\xf3n perteneciente a la red local."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["VPN punto a punto","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Es aquella en que los ordenadores establecen entre ellos una VPN permitiendo el acceso entre los ordenadores que se encuentran en sus LAN. Generalmente se usa para unir distintas sedes de empresas, permitiendo el intercambio de informaci\xf3n con la privacidad necesarios."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"ipsec",children:"IPSEC"}),"\n",(0,s.jsx)(n.p,{children:"Internet Protocol SECurity es una extensi\xf3n del protocolo IP que permiten asegurar las comunicaciones sobre IP, autenticando y se desea cifrando los paquetes IP de una comunicaci\xf3n."}),"\n",(0,s.jsx)(n.h3,{id:"ike-exchange-phase",children:"IKE EXCHANGE PHASE"}),"\n",(0,s.jsx)(n.p,{children:"Se usa para negociar y establecer los t\xfaneles VPN, protocolo h\xedbrido que implementa:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["ISAKMP FRAMEWORK","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Oakley"}),"\n",(0,s.jsx)(n.li,{children:"SKEME"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"IKEV1 posee 2 fases:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Creaci\xf3n de canal de comunicaci\xf3n bidireccional entre los 2 extremos del t\xfanel","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Atributos:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["CIFRADO","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"DES (64 bits)"}),"\n",(0,s.jsx)(n.li,{children:"3 DES (168 bits)"}),"\n",(0,s.jsx)(n.li,{children:"AES (128, 192 y 256 bits)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Hashing:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"MD5"}),"\n",(0,s.jsx)(n.li,{children:"SHA"}),"\n",(0,s.jsxs)(n.li,{children:["INTERCAMBIO DE LLAVES","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"PARTES SIN CONTACTO PREVIO"}),"\n",(0,s.jsx)(n.li,{children:"MEDIANTE UN CANAL INSEGURO"}),"\n",(0,s.jsx)(n.li,{children:"DE FORMA ANONIMA"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["M\xc9TODO DE AUTETICACI\xd3N","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Llave previamente compartida (PSK)"}),"\n",(0,s.jsx)(n.li,{children:"Certificado digital"}),"\n",(0,s.jsx)(n.li,{children:"Atributos espec\xedficos del vendor"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"ISAMKP PORT: 500"}),"\n",(0,s.jsx)(n.h3,{id:"ipsec-mensajes",children:"IPSEC MENSAJES"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["MAIN MODE","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Negociaci\xf3n ISAKMP"}),"\n",(0,s.jsx)(n.li,{children:"Intercambio DIFFIE-HELLMAN"}),"\n",(0,s.jsx)(n.li,{children:"Autentificaci\xf3n de los peers"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["AGRESSIVE MODE","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Provee integrity protection en caso de usar certificados digitales."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["QUICK MODE","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Se negocian los par\xe1metros necesarios para establecer un canal seguro entre los extremos, adem\xe1s de especificar el tr\xe1fico que se enviar\xe1 a trav\xe9s de la VPN"}),"\n",(0,s.jsx)(n.li,{children:"Se negocia el tipo de cifrado y las funciones hash"}),"\n",(0,s.jsxs)(n.li,{children:["Modos de operaci\xf3n","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Transport Mode:","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Comunicaciones End-to-End","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Cifra el payload del paquete"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Tunnel Mode:","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Utilizado en comunicaciones en VPN entre gateways cifrando el paquete original a\xf1adiendo un encabezado\n![[AH-ESP1.png]]"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"protocolos",children:"PROTOCOLOS"}),"\n",(0,s.jsx)(n.p,{children:"IPsec puede utilizar uno de dos protocolos:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Authentication Header (AH)","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["AH proporciona:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Integridad"}),"\n",(0,s.jsx)(n.li,{children:"Autenticaci\xf3n"}),"\n",(0,s.jsx)(n.li,{children:"No repudio de todo el paquete enviado, incluyendo cabecera IP"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Encapsulationg Security Payload (ESP)","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Cifrado"}),"\n",(0,s.jsx)(n.li,{children:"No incluye c\xe1lculos de cabecera IP"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"![[MODOS VPN.excalidraw]]"}),"\n",(0,s.jsx)(n.h2,{id:"comandos-de-configuraci\xf3n-isakmp",children:"COMANDOS DE CONFIGURACI\xd3N ISAKMP"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"crypto isakmp policy <1-1000>\nauthetication pre-share\nhash sha\nencryption aes 256\ngroup 2\nlifetime <time>\ncrypto isakmp key hola address <ip-del-otro-router>\n# Creamos al transformaci\xf3n\ncrypto ipsec transform-set <nombre> esp-aes esp-sha-hmac\n# Conf ACL\naccess-list <numero> permit ip <ip-red-1> <wildcard-1> <ip-red-2> <wildcard-2>\n#Creamos el mapa\ncrypto map <name> <numero-policy> ipsec-isakmp\nset peer <router-ip-2>\nmatch address <acl-num>\nset transform-set <name>\nexit\nint <interfaz-hacia-router>\ncrypto map <name>\n"})}),"\n",(0,s.jsx)(n.h1,{id:"simulaci\xf3n-de-vpn-en-red-simple",children:"SIMULACI\xd3N DE VPN EN RED SIMPLE"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/josedaniel12345/Redes/assets/151370313/e1b014c7-a186-44f5-82f9-7e8c08102cdc",alt:"image"})})]})}function h(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>o,a:()=>c});var s=i(7294);const l={},r=s.createContext(l);function c(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);